<!doctype html>
	<html lang="en">
	<head>

		<title>Jonathan Doe | Web Designer, Director | name@yourdomain.com</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />

		<meta name="keywords" content="" />
		<meta name="description" content="" />

		<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.7.0/build/reset-fonts-grids/reset-fonts-grids.css" media="all" /> 
		<link rel="stylesheet" type="text/css" href="/static/css/resume.css" media="all" />

		<link rel='stylesheet' id='bootstrap-style-css'  href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css' type='text/css' media='all' />
		<link rel='stylesheet'  href='../style.css' type='text/css' media='all' />

		<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.3/jspdf.min.js"></script>
		<script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>



	</head>
	<style type="text/css">
	.first h2 { font-style: normal; }	
	body { font-family: Georgia; color: #444; }
	#inner { padding: 10px 80px; margin: 80px auto; background: #f5f5f5; border: solid #666; border-width: 8px 0 2px 0; }
	.yui-gf { margin-bottom: 2em; padding-bottom: 2em; border-bottom: 1px solid #ccc; }

</style>
<body>
	<button  style="margin-top: 0px;" class="button btn btn-primary" onclick="getPDF()">Generate pdf</button>

	<button class="button btn btn-primary" id="btn-export" onclick="exportHTML();">Export to
	word doc</button>

	<div id="doc2" class="yui-t7">
		<div class="canvas_div_pdf">
			<div id="inner">

				<div id="hd">
					<div class="yui-gc">
						<div class="yui-u first">
							<h1>{{resume.resumeuserdetails_set.all.first.first_name}}  {{resume.resumeuserdetails_set.all.first.last_name}} </h1>
							<h2>{{resume.title}}</h2>
						</div>

						<div class="yui-u">
							{% for object in resume.resumeuserdetails_set.all %}
							<div class="contact-info">
								<img src="{{object.photo.url}}" alt="Italian Trulli" width="50px">

							</div><!--// .contact-info -->
							{% endfor %}
						</div>
					</div><!--// .yui-gc -->
				</div><!--// hd -->

				<div id="bd">
					<div id="yui-main">
						<div class="yui-b">

							<div class="yui-gf">
								<div class="yui-u first">
									<h2>Profile</h2>

								</div>
								<div class="yui-u">
									<p class="enlarge">
										{{resume.objective}}
									</p>
								</div>
							</div><!--// .yui-gf -->

							<div class="yui-gf">
								<div class="yui-u first">
									<h2>Skills</h2>
								</div>
								<div class="yui-u">

									<div class="talent">
										<h3>Web Design</h3>
										<p>Assertively exploit wireless initiatives rather than synergistic core competencies.	</p>
									</div>

									<div class="talent">
										<h3>Interface Design</h3>
										<p>Credibly streamline mission-critical value with multifunctional functionalities.	 </p>
									</div>

									<div class="talent">
										<h3>Project Direction</h3>
										<p>Proven ability to lead and manage a wide variety of design and development projects in team and independent situations.</p>
									</div>
								</div>
							</div><!--// .yui-gf -->

							<div class="yui-gf">
								<div class="yui-u first">
									<h2>Technical</h2>
								</div>
								<div class="yui-u">
									<ul class="talent">
										<li>XHTML</li>
										<li>CSS</li>
										<li class="last">Javascript</li>
									</ul>

									<ul class="talent">
										<li>Jquery</li>
										<li>PHP</li>
										<li class="last">CVS / Subversion</li>
									</ul>

									<ul class="talent">
										<li>OS X</li>
										<li>Windows XP/Vista</li>
										<li class="last">Linux</li>
									</ul>
								</div>
							</div><!--// .yui-gf-->

							<div class="yui-gf">

								<div class="yui-u first">
									<h2>Experience</h2>
								</div><!--// .yui-u -->

								<div class="yui-u">

									<div class="job">
										<h3>Facebook</h3>
										<h3>Senior Interface Designer</h3>
										<h4>2005-2007</h4>
										<p>Intrinsicly enable optimal core competencies through corporate relationships. Phosfluorescently implement worldwide vortals and client-focused imperatives. Conveniently initiate virtual paradigms and top-line convergence. </p>
									</div>

									<div class="job">
										<h3>Apple Inc.</h3>
										<h3>Senior Interface Designer</h3>
										<h4>2005-2007</h4>
										<p>Progressively reconceptualize multifunctional "outside the box" thinking through inexpensive methods of empowerment. Compellingly morph extensive niche markets with mission-critical ideas. Phosfluorescently deliver bricks-and-clicks strategic theme areas rather than scalable benefits. </p>
									</div>

									<div class="job">
										<h3>Microsoft</h3>
										<h3>Principal and Creative Lead</h3>
										<h4>2004-2005</h4>
										<p>Intrinsicly transform flexible manufactured products without excellent intellectual capital. Energistically evisculate orthogonal architectures through covalent action items. Assertively incentivize sticky platforms without synergistic materials. </p>
									</div>


									<div class="job last">
										<h3>International Business Machines (IBM)</h3>
										<h3>Lead Web Designer</h3>
										<h4>2001-2004</h4>
										<p>Globally re-engineer cross-media schemas through viral methods of empowerment. Proactively grow long-term high-impact human capital and highly efficient innovation. Intrinsicly iterate excellent e-tailers with timely e-markets.</p>
									</div>

								</div><!--// .yui-u -->
							</div><!--// .yui-gf -->


							<div class="yui-gf last">
								<div class="yui-u first">
									<h2>Education</h2>
									<td>{{resume.education_set.all.first.degree_class}}</td>

								</div>
								<div class="yui-u">
									<h3>Indiana University - Bloomington, Indiana</h3>
									<h4>Dual Major, Economics and English &mdash; <strong>4.0 GPA</strong> </h4>
								</div>
							</div><!--// .yui-gf -->


						</div><!--// .yui-b -->
					</div><!--// yui-main -->
				</div><!--// bd -->

				
			</div><!-- // inner -->


		</div><!--// doc -->
	</div>

	<script src='http://code.jquery.com/jquery-2.1.1.min.js'></script>
	<script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js'></script>
	<script src="/static/src/jspdf.min.js"></script>
	<script src="/static/src/jquery.UNUGeneratePDF.js"></script>
	
	<script type="text/javascript">
		function getPDF(){

			var HTML_Width = $(".canvas_div_pdf").width();
			var HTML_Height = $(".canvas_div_pdf").height();
			var top_left_margin = 15;
			var PDF_Width = HTML_Width+(top_left_margin*2);
			var PDF_Height = (PDF_Width*1.5)+(top_left_margin*2);
			var canvas_image_width = HTML_Width;
			var canvas_image_height = HTML_Height;

			var totalPDFPages = Math.ceil(HTML_Height/PDF_Height)-1;


			html2canvas($(".canvas_div_pdf")[0],{allowTaint:true}).then(function(canvas) {
				canvas.getContext('2d');

				console.log(canvas.height+"  "+canvas.width);


				var imgData = canvas.toDataURL("image/jpeg", 1.0);
				var pdf = new jsPDF('p', 'pt',  [PDF_Width, PDF_Height]);
				pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin,canvas_image_width,canvas_image_height);


				for (var i = 1; i <= totalPDFPages; i++) { 
					pdf.addPage(PDF_Width, PDF_Height);
					pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height*i)+(top_left_margin*4),canvas_image_width,canvas_image_height);
				}

				pdf.save("HTML-Document.pdf");
			});
		};	
	</script>

	<script>
		function exportHTML(){
			var header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' "+
			"xmlns:w='urn:schemas-microsoft-com:office:word' "+
			"xmlns='http://www.w3.org/TR/REC-html40'>"+
			"<head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>";
			var footer = "</body></html>";
			var sourceHTML = header+document.getElementById("doc2").innerHTML+footer;

			var source = 'data:application/vnd.ms-word;charset=utf-8,' + encodeURIComponent(sourceHTML);
			var fileDownload = document.createElement("a");
			document.body.appendChild(fileDownload);
			fileDownload.href = source;
			fileDownload.download = 'document.doc';
			fileDownload.click();
			document.body.removeChild(fileDownload);
		}
	</script>	
	<script type="text/javascript">
	function ExportToDoc(filename = ''){
    var HtmlHead = "<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML To Doc</title></head><body>";
  
    var EndHtml = "</body></html>";
  
    //complete html
    var html = HtmlHead +document.getElementById("MainHTML").innerHTML+EndHtml;

    //specify the type
    var blob = new Blob(['\ufeff', html], {
        type: 'application/msword'
    });
    
    // Specify link url
    var url = 'data:application/vnd.ms-word;charset=utf-8,' + encodeURIComponent(html);
    
    // Specify file name
    filename = filename?filename+'.doc':'document.doc';
    
    // Create download link element
    var downloadLink = document.createElement("a");

    document.body.appendChild(downloadLink);
    
    if(navigator.msSaveOrOpenBlob ){
        navigator.msSaveOrOpenBlob(blob, filename);
    }else{
        // Create a link to the file
        downloadLink.href = url;
        
        // Setting the file name
        downloadLink.download = filename;
        
        //triggering the function
        downloadLink.click();
    }
    
    document.body.removeChild(downloadLink);
}	
	</script>

</body>
</html>
